---
date: 1-21-2026
tags:
  - Rant
---

# Who (or What) Wrote OpenAI's Documentation?

Today, shortly after returning from work and a grocery run to prepare for the upcoming South-East Snowpocalypse, I began my daily HackerNews perusal. I ended up going down a complete tangent through synthetic data generation, which I had brought up earlier in the day, all the way to a post written by Huggingface on a 50-LOC MCP agent.

## Before I Make Fun

Before I really hand it to OpenAI, just know, I don't hate them just for the meme. I am passionate about GenAI, but this is so ridiculous it almost seems deliberate. Super odd here.

## Anyways...


Deciding, per usual, to reinvent the wheel, I went through the normal ritual anyone would do (incoming /s): start to build it myself with zero context other than an ambiguous, half-read blog-post. I reminded myself that while I was familiar with structured output, I wasn't confident about how MCP was performed if you were using say Llama.cpp. So...

> "I climbed into mah white Escalaaade, and I went to the safest place I could think of ‚Äî the interstate,‚Äù recounted Buford. - SNL

In this case, the safest place I know is the [OpenAI SDK documentation - Tool Calling Page](https://platform.openai.com/docs/guides/function-calling#function-tool-example). Here is where things get interesting. I take a quick glance, seems more or less fine, then I put it in my editor to convert to Type... whoa. What on earth is this?


<details>
<summary>Expand Code</summary>

```js
import OpenAI from "openai";
const openai = new OpenAI();

// 1. Define a list of callable tools for the model
const tools = [
  {
    type: "function",
    name: "get_horoscope",
    description: "Get today's horoscope for an astrological sign.",
    parameters: {
      type: "object",
      properties: {
        sign: {
          type: "string",
          description: "An astrological sign like Taurus or Aquarius",
        },
      },
      required: ["sign"],
    },
  },
];

function getHoroscope(sign) {
  return sign + " Next Tuesday you will befriend a baby otter.";
}

// Create a running input list we will add to over time
let input = [
  { role: "user", content: "What is my horoscope? I am an Aquarius." },
];

// 2. Prompt the model with tools defined
let response = await openai.responses.create({
  model: "gpt-5",
  tools,
  input,
});

response.output.forEach((item) => {
  if (item.type == "function_call") {
    if (item.name == "get_horoscope"):
      // 3. Execute the function logic for get_horoscope
      const horoscope = get_horoscope(JSON.parse(item.arguments))
      
      // 4. Provide function call results to the model
      input_list.push({
          type: "function_call_output",
          call_id: item.call_id,
          output: json.dumps({
            horoscope
          })
      })
  }
});

console.log("Final input:");
console.log(JSON.stringify(input, null, 2));

response = await openai.responses.create({
  model: "gpt-5",
  instructions: "Respond only with a horoscope generated by a tool.",
  tools,
  input,
});

// 5. The model should be able to give a response!
console.log("Final output:");
console.log(JSON.stringify(response.output, null, 2));
```
</details>

![Short Circuit](./image.png)

Excuse me, `const` declarations can only be declared inside a block? What even is this error? I unhover, and see: `'getHoroscope' is declared but its value is never read.` in addition to: `Cannot find name 'get_horoscope'. Did you mean 'horoscope'?`

![Sam AIltman](./agi.png)

So, I fix the error as any sane person would. I give it a nice little curly brace and move down to the function which somehow is mismatched to the function above? Maybe ECMAScript 9000 allows fuzzy-function calls to increase developer productity, but Node 25.2.1 does not.

Next, I instinctively right-click `input_list` to find its reference. No references found. Ok, strike 3. The object is called array is called `input`. For reference, this is an array of `ResponseInputItem` which has an alias `ResponseInput`. It is valid JavaScript at least.

Next issue, it is somehow missing a required field on its `tools` variable? Sure `strict: true` of course. Must be a new version of the package... Then it catches my eye.

```js
json.dumps
```

This is getting creative. I'm starting to think this is human because there is no way you casually insert [Python JSON](https://docs.python.org/3/library/json.html) in there. I'll give it the benefit of the doubt, if it is trying to call `json.dumps` it must be attempting to stringify, right?

```txt
// Logs
Final input:
[
  {
    "role": "user",
    "content": "What is my horoscope? I am an Aquarius."
  },
  {
    "type": "function_call_output",
    "call_id": "call_1628263712920009",
    "output": "{\"horoscope\":\"[object Object] Next Tuesday you will befriend a baby otter.\"}"
  }
]
```

Nope, no it is not. Based on our tool description: `item.arguments` would have a field `sign` so we need to swap this with:

```ts
const { sign } = JSON.parse(item.arguments);
const horoscope = getHoroscope(sign);
```

```
Final input:
[
  {
    "role": "user",
    "content": "What is my horoscope? I am an Aquarius."
  },
  {
    "type": "function_call_output",
    "call_id": "call_1628263712920010",
    "output": "{\"horoscope\":\"Aquarius Next Tuesday you will befriend a baby otter.\"}"
  }
]
```

You have got to be kidding me. This shouldn't even be an object to begin with.

```ts
output: horoscope
```

And voila!

```
Here's your horoscope for being an Aquarius:

"Next Tuesday you will befriend a baby otter." 

Wish you a day full of unexpected friendships and aquatic adventures! üêæ
```

I just wanted to share this in case some younger developer really wants to get their hands wet with AI and end up troubleshooting TypeScript before giving up. Or, vibe-fixing this example because I cannot imagine I am the first to see this.

## Final Code

<details>
<summary>Expand Final Code</summary>

```ts
import OpenAI from "openai";
import type { ResponseInput, Tool } from "openai/resources/responses/responses";

const openai = new OpenAI();

// 1. Define a list of callable tools for the model
const tools: Tool[] = [
  {
    type: "function",
    name: "get_horoscope",
    description: "Get today's horoscope for an astrological sign.",
    parameters: {
      type: "object",
      properties: {
        sign: {
          type: "string",
          description: "An astrological sign like Taurus or Aquarius",
        },
      },
      required: ["sign"],
    },
    strict: true,
  },
];

function getHoroscope(sign: string) {
  return sign + ", Next Tuesday you will befriend a baby otter.";
}

// Create a running input list we will add to over time
let input: ResponseInput = [
  { role: "user", content: "What is my horoscope? I am an Aquarius." },
];

// 2. Prompt the model with tools defined
let response = await openai.responses.create({
  model: "gpt-5",
  tools,
  input,
});

response.output.forEach((item) => {
  if (item.type == "function_call") {
    if (item.name == "get_horoscope") {
      // 3. Execute the function logic for get_horoscope
      const { sign } = JSON.parse(item.arguments);
      const horoscope = getHoroscope(sign);

      // 4. Provide function call results to the model
      input.push({
        type: "function_call_output",
        call_id: item.call_id,
        output: horoscope,
      });
    }
  }
});

console.log("Final input:");
console.log(JSON.stringify(input, null, 2));

response = await openai.responses.create({
  model: "gpt-5",
  instructions: "Respond only with a horoscope generated by a tool.",
  tools,
  input,
});

// 5. The model should be able to give a response!
console.log("Final output:");
console.log(response.output_text.trim());
```
</details>

![My brain](meme.png)

Rant over, cheers you all and stay safe if you are expecting it to snow.